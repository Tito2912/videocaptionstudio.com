<!doctype html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />

  <title>Continue to CapCut | VideoCaptionStudio</title>
  <meta name="description" content="Continue to CapCut via our partner link. Offer intended for US, UK, FR, DE." />
  <meta name="robots" content="noindex,nofollow" />

  <link rel="canonical" href="https://videocaptionstudio.com/go/capcut.html" />

  <link rel="stylesheet" href="/assets/styles.css" />

  <link rel="icon" href="/images/favicon.ico" sizes="any" />
  <link rel="icon" href="/images/favicon.svg" type="image/svg+xml" />
  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png" />
  <link rel="manifest" href="/images/site.webmanifest" />
</head>

<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header" data-header>
    <div class="container header-grid">
      <a class="brand" href="/" aria-label="VideoCaptionStudio Home">
        <img src="/images/videocaptionstudio-logo.png" alt="VideoCaptionStudio logo" width="168" height="32" decoding="async" />
      </a>
      <nav class="site-nav" aria-label="Primary">
	        <ul>
	          <li><a href="/">Home</a></li>
	          <li><a href="/blog/">Blog</a></li>
	          <li><a href="/legal-notice">Legal notice</a></li>
	          <li><a href="/privacy-policy">Privacy</a></li>
	        </ul>
	        <ul class="lang-switch" aria-label="Language">
	          <li class="current" aria-current="page"><span>EN</span></li>
	          <li><a href="/fr/go/capcut.html">FR</a></li>
	        </ul>
	      </nav>
    </div>
  </header>

  <main id="main" class="container prose">
    <header class="article-hero">
      <h1>Continue to CapCut</h1>
      <p class="lead">Our CapCut partner offer is intended for <strong>US, UK, France, and Germany</strong>.</p>
      <p id="market-status" class="note">Checking your browser settings…</p>
    </header>

    <div id="cta-row" class="cta-row">
      <a id="continue-link" class="btn btn-primary" href="https://capcutaffiliateprogram.pxf.io/yq111D" target="_blank" rel="noopener nofollow sponsored">Continue to CapCut Pro</a>
    </div>
    <p class="microcopy"><a class="link-tiny" href="https://www.capcut.com/" target="_blank" rel="noopener nofollow">Open CapCut (non‑affiliate)</a></p>

    <section id="market-picker" hidden>
      <h2>Confirm your market</h2>
      <p>If you’re in an eligible country, pick it below to continue via our partner link.</p>
      <div class="cta-row">
        <button type="button" class="btn btn-secondary" data-market="US">US</button>
        <button type="button" class="btn btn-secondary" data-market="GB">UK</button>
        <button type="button" class="btn btn-secondary" data-market="FR">FR</button>
        <button type="button" class="btn btn-secondary" data-market="DE">DE</button>
      </div>
    </section>

    <p class="microcopy">Partner site — not official. We may earn a commission on qualifying purchases (no extra cost).</p>
  </main>

  <script>
    (() => {
      'use strict';

      const AFFILIATE_URL = 'https://capcutaffiliateprogram.pxf.io/yq111D';
      const CORE_MARKETS = new Set(['US','GB','FR','DE']);
      const UTM_PARAMS = ['utm_source','utm_medium','utm_campaign','utm_term','utm_content'];

      const statusEl = document.getElementById('market-status');
      const continueEl = document.getElementById('continue-link');
      const ctaRowEl = document.getElementById('cta-row');
      const pickerEl = document.getElementById('market-picker');

      function appendUtm(url) {
        try {
          const base = new URL(url);
          const cur = new URL(window.location.href);
          UTM_PARAMS.forEach((k) => {
            const v = cur.searchParams.get(k);
            if (v) base.searchParams.set(k, v);
          });
          return base.toString();
        } catch {
          return url;
        }
      }

      function guessCountryFromLang() {
        const langs = Array.isArray(navigator.languages) && navigator.languages.length
          ? navigator.languages
          : [navigator.language || ''];

        for (const lang of langs) {
          const m = String(lang).match(/-([a-zA-Z]{2})$/);
          if (m && m[1]) return m[1].toUpperCase();
        }
        return null;
      }

      const outbound = appendUtm(AFFILIATE_URL);
      continueEl.href = outbound;

      const guessed = guessCountryFromLang();
      const isCore = guessed ? CORE_MARKETS.has(guessed) : false;

      if (isCore) {
        statusEl.textContent = `Detected market: ${guessed}. Redirecting…`;
        window.setTimeout(() => { window.location.href = outbound; }, 700);
      } else {
        continueEl.hidden = true;
        if (ctaRowEl) ctaRowEl.hidden = true;
        statusEl.textContent = guessed
          ? `Detected market: ${guessed}. The partner offer is intended for US, UK, FR, DE.`
          : 'We could not detect your market. The partner offer is intended for US, UK, FR, DE.';
        pickerEl.hidden = false;

        pickerEl.addEventListener('click', (e) => {
          const btn = e.target.closest('[data-market]');
          if (!btn) return;
          const market = btn.getAttribute('data-market');
          if (!market || !CORE_MARKETS.has(market)) return;
          window.location.href = outbound;
        });
      }
    })();
  </script>
</body>
</html>
